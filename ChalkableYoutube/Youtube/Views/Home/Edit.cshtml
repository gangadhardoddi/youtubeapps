@model Youtube.Models.SearchModel
@{
    ViewBag.Title = "Edit";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div id="logo">@Html.ActionLink("cancel", "Edit", 
            new RouteValueDictionary
            {
                {"announcementApplicationId", Model.AnnouncementApplicationId},
                {"districtId", Model.DistrictId}
            });
</div>

@using (Html.BeginForm())
{    
    <div>
        @Html.Hidden("count", Model.Videos.Count(), new {id = "videos-count"})
        @Html.Hidden("standardQuery", Model.StandardQuery)
        <div id="query-container">
            <input id="query"  placeholder="Video topic or URL" name="query" type="text" value="">
            <input type="submit" id="search-button" value=""/>
        </div>
        <div class="white-container">
            <div class="table">
                @for (var i = 0; i < Model.Videos.Count(); i++)
                {
                                             
                    var v = Model.Videos.ElementAt(i);
                                            
                    if(i % 2 == 0)
                    {
                        @:<div class="line">
                    }
                    <div class="tr">
                        <div class="td">
                            @{
                                string imgSrc = "https://i4.ytimg.com/vi/" + @v.Id + "/mqdefault.jpg";
                            }
                            <div class="video-container">
                                <img width="200" height="110" src="@imgSrc" />
                                <div class="duration">@v.Duration</div>
                            </div>
                        </div>
                        <div class="td">
                            <h2>
                                @Html.ActionLink(@v.ShortTitle, "Preview", new RouteValueDictionary
                                {
                                    { "id", v.Id }, 
                                    { "announcementApplicationId", Model.AnnouncementApplicationId },
                                    {"districtId", Model.DistrictId}
                                })                    
                            </h2>
                            <div class="description">@v.ShortDescription</div>
                            <div class="uploaded-edit">by @v.UploadedBy | @v.Views views</div>
                        </div>
                    </div>
                    if (i % 2 == 1 || i == Model.Videos.Count() - 1)
                    {
                        @:</div>
                    }
                }
                <a id="see-more"></a>
            </div>
        </div>
    </div>
}